{{- if ( eq .chezmoi.os "darwin" ) -}}
#!/bin/sh

# install asdf if not alrady installed
if [ ! -d $HOME/.asdf ]; then
	git clone https://github.com/asdf-vm/asdf.git ~/.asdf
fi

if [ ! -f $HOME/.config/fish/completions/asdf.fish ]; then
	mkdir -p $HOME/.config/fish/completion
	ln -s $HOME/.asdf/completions/asdf.fish $HOME/.config/fish/completions
fi

source $HOME/.asdf/asdf.sh

asdf plugin-add python
asdf plugin-add golang
asdf plugin-add sqlite
asdf plugin-add httpie-go
asdf plugin-add awscli

asdf install python latest
asdf install golang 1.17.3
asdf install sqlite latest
asdf install httpie-go latest
asdf install awscli latest

asdf global python latest
asdf global golang 1.17.3
asdf global sqlite latest
asdf global httpie-go latest
asdf global awscli latest
{{ end -}}